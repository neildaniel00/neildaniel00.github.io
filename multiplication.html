<!DOCTYPE html>
<html>
  <head>
    <link
      data-require="bootstrap-css@3.3.6"
      data-semver="3.3.6"
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css"
    />
    <script
      data-require="angular.js@1.5.0"
      data-semver="1.5.0"
      src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"
    ></script>
    <style>
                h1, h2, h3, h4, h5, h6 {
          text-shadow:5px 5px 10px black;
          font-family: 'Cabin Sketch', cursive;
                    background: rgb(0,255,246);
background: linear-gradient(90deg, rgba(0,255,246,1) 0%, rgba(72,252,70,1) 100%);
        }
        p {
          font-family: 'Cabin Sketch', cursive;
          font-size: 1.1rem;
          text-shadow:5px 5px 10px black;
        }
body, html {
          background: rgb(0,255,246);
background: linear-gradient(90deg, rgba(0,255,246,1) 0%, rgba(72,252,70,1) 100%);
        }


ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: rgb(0, 255, 170);
  color: black;
  position: fixed;
  top: 0;
  width: 100%;
}


li {
  float: left;
}

li a {
  display: block;
  color: black;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

li a:hover:not(.active) {
  background-color: #333;
  color: white;
}

.active {
  color: white;
  background-color: #000000;
}

.ahrefs {
  color: inherit;
}
    </style>
  </head>

  <body>
    <div class="container" ng-app="app" ng-controller="pageCtrl as page">
      <div class="well well-sm">
        <center>
            <li><a href="index.html">Home</a></li>
  <li><a href="experiments.html">Experiments</a></li>
  <li><a href="/clicker/game.html">Clicker Game!</a></li>
  <li><a href="hackertyper.html">Hacker Typer</a></li>
  <li><a href="rainbowshruggie.html">Rainbow Shruggie</a></li>
  <li><a href="volumecalc.html">Volume Calculator</a></li>
    <li><a class="active" href="multiplication.html">Multiplication Practice</a></li>
  <li><a href="/python/projects.html">Download My Python Projects</a></li>
    <li><a href="chromehacks.html">Cool Hacks For Your Chromebook</a></li>
          <p>Type in your answer and press Show Result</p>
        </center>
      </div>
      <div class="row">
        <div class="col-xs-2 text-center">
          <h1>{{page.num1}}</h1>
        </div>
        <div class="col-xs-1 text-center">
          <h1>&times;</h1>
        </div>
        <div class="col-xs-2 text-center">
          <h1>{{page.num2}}</h1>
        </div>
        <div class="col-xs-1 text-center">
          <h1>=</h1>
        </div>
        <div class="col-xs-6">
          <div class="form-group">
            <input
              type="text"
              class="form-control text-left"
              style="width: 96px; height: 72px; font-size: 36px"
              ng-model="page.guess"
            />
          </div>
        </div>
        <div class="col-xs-12" ng-if="page.calculated">
          <h1 class="text-danger" ng-if="!page.correct">WRONG!</h1>
          <h1 class="text-success" ng-if="page.correct">CORRECT!</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <h1 ng-if="page.calculated">
            {{page.num1}} x {{page.num2}} is
            <span class="text-primary">{{page.num3}}</span>.
          </h1>

          <button
            type="button"
            class="btn btn-primary"
            ng-click="page.calculateResult()"
            ng-if="!page.calculated"
          >
            Show Result
          </button>
          <button
            type="button"
            class="btn btn-primary"
            ng-click="page.reset()"
            ng-if="page.calculated"
          >
            Reset
          </button>
        </div>
      </div>
    </div>
    <script>
      (function () {
        'use strict';

        //from MDN
        function getRandomIntInclusive(min, max) {
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function say(text) {
          var msg = new SpeechSynthesisUtterance(text);
          speechSynthesis.speak(msg);
        }

        angular.module('app', []);

        angular.module('app').controller('pageCtrl', pageCtrl);

        pageCtrl.$inject = ['$scope'];
        function pageCtrl($scope) {
          //jshint validthis: true
          var self = this;

          self.num1 = 0;
          self.num2 = 0;
          self.num3 = '';
          self.correct = false;

          self.calculateResult = calculateResult;
          self.reset = reset;

          activate();

          function calculateResult() {
            self.recognizer.abort();

            self.num3 = self.num1 * self.num2;
            self.calculated = true;
            self.correct = parseInt(self.guess, 10) === self.num3;

            if (self.correct) {
              say('You are correct!');
              say(self.num1 + ' times ' + self.num2 + ' is ' + self.num3);
            } else {
              say('That is incorrect!  The correct answer is ' + self.num3);
            }
          }

          function reset() {
            self.num1 = getRandomIntInclusive(1, 12);
            self.num2 = getRandomIntInclusive(1, 12);
            self.num3 = '';
            self.guess = '';
            self.calculated = false;

            say('What is ' + self.num1 + ' times ' + self.num2 + '?');

            self.recognizer.start();
          }

          function activate() {
            self.recognizer = new webkitSpeechRecognition();
            self.recognizer.onresult = function (e) {
              self.guess = e.results[0][0].transcript;

              say('You said, "' + self.guess + '"');

              self.calculateResult();
              $scope.$digest();
            };

            self.reset();
          }
        }
      })();
      let keysDown = {};
      window.onkeydown = function (keyboardshortcuts) {
        keysDown[keyboardshortcuts.key] = true;

        if (keysDown['Enter']) {
          page.calculateResult();
        }
      };

      window.onkeyup = function (keyboardshortcuts) {
        keysDown[keyboardshortcuts.key] = false;
      };
    </script>
  </body>
</html>
